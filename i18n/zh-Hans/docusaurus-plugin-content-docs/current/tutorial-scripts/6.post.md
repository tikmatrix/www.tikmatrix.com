---
sidebar_position: 6
---

# 发布帖子

发布帖子脚本用于在TikTok上发布视频或图片。

## 步骤

1. **准备素材**：
   - 选项1：点击`素材库`按钮上传视频/图片到素材库。
   - 选项2：使用本地文件夹作为素材来源，在脚本配置中设置文件夹路径。
2. 选择要运行脚本的设备。
3. 点击`脚本` > `发布帖子`。
4. 配置任务设置：
    - **素材来源**：选择素材库或本地文件夹。
    - **本地文件夹路径**：如果使用本地文件夹，指定包含视频/图片的路径。
    - **发布方式**：选择发布方式：系统分享或添加按钮(`+`)或通过搜索使用声音。
    - **声音名称**：当使用"通过搜索使用声音"发布方式时，你可以选择：
      - 输入声音名称进行搜索（例如："original sound"，"trending music"）
      - 直接输入TikTok声音链接（例如：`https://www.tiktok.com/t/ZP8hvBwCb/`）
    - **内容类型**：选择视频或图片。
    - **添加声音开关**：启用/禁用添加声音。
    - **上传等待时间**：设置上传后的延迟时间（5-60秒），确保TikTok服务器完全处理内容后再继续操作。
    - **添加产品链接开关**：启用/禁用添加产品链接。
    - **标题**：设置标题，包括提及(@TikMatrixPhoneFarm)和标签(#tag1 #tag2 #tag3)。每行一个标题。要分割标题和描述，使用`##`（例如，标题##长描述）。
    - **素材标签**：按标签过滤素材。如果未设置，使用所有素材。
5. 点击`开始脚本`开始执行。

## 素材管理

### 音乐使用模式

当**发布方式**设置为"通过搜索使用声音"时，脚本支持两种不同的音乐添加模式：

#### 1. 声音搜索模式

输入声音名称在TikTok内搜索音乐：

- 示例：`original sound`，`trending music`，`viral beat`
- 脚本会搜索TikTok的音乐库并选择第一个匹配结果
- 这种模式适用于使用热门或流行声音

#### 2. 声音链接模式

输入直接的TikTok声音链接使用特定音乐：

- 支持的链接格式：
  - 短链接：`https://www.tiktok.com/t/ZP8hvBwCb/`
  - 音乐页面：`https://www.tiktok.com/music/original-sound-7473897776619834646`
  - VM链接：`https://vm.tiktok.com/ZMhvBwCbD/`
- 脚本自动检测以`https://`开头的链接并直接打开
- 这种模式适用于使用来自特定视频的特定声音

### 素材库

- **素材标签**：为素材添加标签，在发布时进行过滤。如果未指定标签，使用所有素材。
- **素材标题**：你可以为每个素材设置自定义标题。如果设置了，它优先于发布设置。
- **素材用户名**：你可以为每个素材设置自定义用户名。匹配用户名的素材优先使用。
- **素材排序**：为素材设置排序号（对多图片帖子有用；数字越小越靠前）。

### 本地文件夹来源

- **文件夹结构**：

  ```text
  /素材路径/
  ├── caption.txt (可选 - 根目录兜底)
  ├── sound_names.txt (可选 - 根目录兜底)  
  ├── sound_urls.txt (可选 - 根目录兜底)
  ├── @用户名1/
  │   ├── video1.mp4
  │   ├── video2.mp4
  │   ├── image1.jpg
  │   ├── image2.jpg
  │   ├── caption.txt (可选)
  │   ├── sound_names.txt (可选)
  │   └── sound_urls.txt (可选)
  ├── @用户名2/
  │   ├── content1.mp4
  │   ├── content2.jpg
  │   ├── caption.txt (可选)
  │   ├── sound_names.txt (可选)
  │   └── sound_urls.txt (可选)
  └── ...
  ```

- **文件夹路径**：指定包含用户名子文件夹的根路径。
- **用户名子文件夹**：每个用户名必须有自己的子文件夹（例如，`@用户名1`，`@用户名2`）。
- **根文件夹兜底**：如果用户名文件夹不存在或用户名为空，将从根文件夹读取素材和设置。
- **支持格式**：
  - 视频：MP4
  - 图片：JPG, PNG
- **标题文件**：在每个用户名文件夹中可选的`caption.txt`文件，用于自定义标题。如果找不到，将回退到根文件夹的`caption.txt`。
- **音乐文件**：
  - **sound_names.txt**：包含用于搜索的音乐名称，每行一个。按顺序读取，到末尾后循环读取。
  - **sound_urls.txt**：包含TikTok音乐链接，每行一个。按顺序读取，到末尾后循环读取。
  - 如果用户名文件夹不存在，从根文件夹的音乐文件读取。
- **文件选择**：
  - 对于视频：每次发布随机选择一个视频
  - 对于图片：根据图片数量设置选择多张图片
- **使用跟踪**：文件会被自动标记为已使用，避免重复。
- **Spintax支持**：标题文件支持spintax格式`{选项1|选项2|选项3}`进行随机文本生成。

  **Spintax示例：**

  ```text
  {早上好|你好|嗨}！看看这个{令人惊叹的|不可思议的|很棒的}视频！
  ```

  将随机生成以下之一：
  - "早上好！看看这个令人惊叹的视频！"
  - "你好！看看这个不可思议的视频！"
  - "嗨！看看这个很棒的视频！"

  **复杂Spintax示例：**

  ```text
  {🔥|✨|🎉} {不要错过|查看|观看}这个{令人惊叹的|不可思议的|很棒的}{视频|内容|帖子}！ 
  {关注获取更多|点赞分享|标记你的朋友} {#热门|#病毒式|#fyp} #tiktok
  ```

  **Caption.txt文件示例：**

  ```text
  {早晨动力|每日灵感|开始你的一天}！💪
  
  {喜欢|享受|迷恋}这个{美丽的|令人惊叹的|华丽的}景色！🌅
  
  {不敢相信|对此很兴奋|对此很激动}{这一刻|这次经历|这次冒险}！✨
  ```

  **Sound_names.txt文件示例：**

  ```text
  原声
  热门音乐
  病毒式节拍
  流行歌曲
  舞蹈音乐
  ```

  **Sound_urls.txt文件示例：**

  ```text
  https://www.tiktok.com/t/ZP8hvBwCb/
  https://www.tiktok.com/music/original-sound-7473897776619834646
  https://vm.tiktok.com/ZMhvBwCbD/
  https://www.tiktok.com/t/ZP8hvBwCb/
  ```

## 常见问题

1. 为什么任务会失败？
   - 自动化脚本是根据TikTok/Instagram应用的行为进行模拟操作的，某些情况下可能会失败，例如网络问题、应用响应异常、意外的弹窗、设备性能问题、设备兼容性问题等。
   - 如果多次重试仍然失败，提交工单获取帮助。
2. 怎么样实现无人值守运行？
   - 创建设备分组, 并在分组的Post设置中使用定时调度功能，软件会每天在指定时间自动创建并运行发布任务。
3. 怎么实现幻灯片帖子的排序？
   - 在素材库中为每个图片素材设置排序号，数字越小越靠前。发布时脚本会根据排序号选择图片。
   - 你也可以批量导入素材时使用符合下面规范的文件名来设置排序号：
     - `sort_1_图片描述.png`
     - `sort_2_图片描述.png`
     - `sort_3_图片描述.png`
4. 怎么为每个账号使用不同的素材,标题和音乐？
   - 使用本地文件夹时，为每个用户名创建子文件夹，在子文件夹中创建`caption.txt`，`sound_names.txt`或`sound_urls.txt`文件来定义自定义标题和音乐。脚本会优先使用匹配用户名的文件。
   - 使用素材库时，为每个素材设置用户名字段,标题字段,脚本会优先使用匹配用户名的素材和标题。
5. 支持哪些素材格式？
   - 视频：MP4
   - 图片：JPG,PNG

6. 图片和视频素材可以重复使用吗？

  不可以。为保护您的账号，系统会在素材发布后自动将其标记为已使用，避免被重复选用。这样可以减少重复发布的风险，降低账号被风控或封禁的可能性。

## 相关文档

- [Permission Denied - Unable to Save Draft Videos](../troubleshooting/4.permission-denied-draft-videos.md)
