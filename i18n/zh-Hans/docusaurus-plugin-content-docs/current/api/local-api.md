---
sidebar_position: 1
title: æœ¬åœ° API æ¦‚è§ˆ
description: TikMatrix æœ¬åœ° APIï¼Œç”¨äºä»¥ç¼–ç¨‹æ–¹å¼ç®¡ç†ä»»åŠ¡
---

TikMatrix æä¾›äº†ä¸€ä¸ªæœ¬åœ°çš„ RESTful APIï¼Œå…è®¸ä½ ä»¥ç¼–ç¨‹æ–¹å¼ç®¡ç†ä»»åŠ¡ã€‚è¿™å¯¹äºå°† TikMatrix é›†æˆåˆ°ä½ è‡ªå·±çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿã€æ„å»ºè‡ªå®šä¹‰å·¥ä½œæµç¨‹æˆ–åˆ›å»ºæ‰¹é‡æ“ä½œéå¸¸æœ‰ç”¨ã€‚

## è¦æ±‚

:::warning è®¸å¯è¯è¦æ±‚
**æœ¬åœ° API ä»…å¯¹ Proã€Team å’Œ Business è®¡åˆ’ç”¨æˆ·å¼€æ”¾ã€‚** Starter è®¡åˆ’ä¸æä¾› API è®¿é—®æƒé™ã€‚
:::

## åŸºç¡€ URL

API åœ¨æœ¬æœºè¿è¡Œï¼Œåœ°å€ä¸ºï¼š

```text
http://localhost:50809/api/v1/
```

:::note
ç«¯å£ `50809` ä¸ºé»˜è®¤ç«¯å£ã€‚è¯·åœ¨å‘èµ·è¯·æ±‚å‰ç¡®ä¿ TikMatrix å·²åœ¨è¿è¡Œã€‚
:::

## å“åº”æ ¼å¼

æ‰€æœ‰ API å“åº”éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š

```json
{
  "code": 0,
  "message": "success",
  "data": { ... }
}
```

### å“åº”ç è¯´æ˜

| Code | æè¿° |
|------|------|
| 0 | æˆåŠŸ |
| 40001 | å‚æ•°é”™è¯¯ - æ— æ•ˆçš„è¯·æ±‚å‚æ•° |
| 40002 | å‚æ•°é”™è¯¯ - ç¼ºå°‘ script_name |
| 40003 | å‚æ•°é”™è¯¯ - è„šæœ¬æš‚ä¸æ”¯æŒ API è°ƒç”¨ |
| 40301 | ç¦æ­¢ - API è®¿é—®éœ€è¦ Pro+ è®¡åˆ’ |
| 40401 | æœªæ‰¾åˆ° - èµ„æºä¸å­˜åœ¨ |
| 50001 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

## å¿«é€Ÿå¼€å§‹

### 1. æ£€æŸ¥ API è®¿é—®æƒé™

é¦–å…ˆï¼Œç¡®è®¤ä½ çš„è®¸å¯è¯æ˜¯å¦æ”¯æŒ APIï¼š

```bash
curl http://localhost:50809/api/v1/license/check
```

ç¤ºä¾‹å“åº”ï¼š

```json
{
  "code": 0,
  "message": "success",
  "data": {
    "plan_name": "Pro",
    "api_enabled": true,
    "device_limit": 20,
    "message": "API access enabled"
  }
}
```

### 2. åˆ›å»ºä»»åŠ¡

```bash
curl -X POST http://localhost:50809/api/v1/task \
  -H "Content-Type: application/json" \
  -d '{
    "serials": ["device_serial_1", "device_serial_2"],
    "script_name": "post",
    "script_config": {
      "content_type": 1,
      "captions": "çœ‹çœ‹æˆ‘çš„æ–°è§†é¢‘ï¼#çƒ­é—¨"
    },
    "enable_multi_account": false
  }'
```

### 3. æŸ¥è¯¢ä»»åŠ¡åˆ—è¡¨

```bash
curl http://localhost:50809/api/v1/task?status=0&page=1&page_size=20
```

## å¯ç”¨è„šæœ¬

:::info å½“å‰æ”¯æŒ
ç›®å‰ï¼Œæœ¬åœ° API æ”¯æŒ `post`ã€`follow` å’Œ `unfollow` è„šæœ¬ã€‚æ›´å¤šè„šæœ¬å°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­é™†ç»­æ·»åŠ ã€‚
:::

`script_name` å‚æ•°å¯æ¥å—ä¸‹åˆ—å€¼ï¼š

| è„šæœ¬å | æè¿° | API æ”¯æŒ |
|--------|------|----------|
| `post` | å‘å¸ƒå†…å®¹ | âœ… å·²æ”¯æŒ |
| `follow` | å…³æ³¨ç”¨æˆ· | âœ… å·²æ”¯æŒ |
| `unfollow` | å–æ¶ˆå…³æ³¨ | âœ… å·²æ”¯æŒ |
| `like` | ç‚¹èµ | ğŸ”œ å³å°†æ¨å‡º |
| `comment` | è¯„è®º | ğŸ”œ å³å°†æ¨å‡º |
| `message` | ç§ä¿¡ | ğŸ”œ å³å°†æ¨å‡º |
| `account_warmup` | è´¦å·é¢„çƒ­ | ğŸ”œ å³å°†æ¨å‡º |
| `super_marketing` | è¶…çº§è¥é”€æ´»åŠ¨ | ğŸ”œ å³å°†æ¨å‡º |
| `profile` | æ›´æ–°ä¸ªäººèµ„æ–™ | ğŸ”œ å³å°†æ¨å‡º |
| `scrape_user` | æŠ“å–ç”¨æˆ·æ•°æ® | ğŸ”œ å³å°†æ¨å‡º |

## ä»»åŠ¡çŠ¶æ€

| çŠ¶æ€ç  | çŠ¶æ€æ–‡æœ¬ | æè¿° |
|--------|----------|------|
| 0 | pending | ä»»åŠ¡ç­‰å¾…æ‰§è¡Œ |
| 1 | running | ä»»åŠ¡æ­£åœ¨æ‰§è¡Œ |
| 2 | completed | ä»»åŠ¡æ‰§è¡ŒæˆåŠŸ |
| 3 | failed | ä»»åŠ¡æ‰§è¡Œå¤±è´¥ |

## åç»­

- [ä»»åŠ¡ç®¡ç† API](./task-management) - åˆ›å»ºã€æŸ¥è¯¢å’Œç®¡ç†ä»»åŠ¡
- [API ç¤ºä¾‹](./examples) - ä¸åŒè¯­è¨€çš„ä»£ç ç¤ºä¾‹
