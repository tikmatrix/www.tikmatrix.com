---
sidebar_position: 6
---

# Публикация постов

Скрипт публикации постов используется для публикации видео или изображений в TikTok.

## Шаги

1. **Подготовка материалов**:
   - Вариант 1: Нажмите кнопку `Библиотека материалов` для загрузки видео/изображений в библиотеку материалов.
   - Вариант 2: Используйте локальную папку как источник материалов, указав путь к папке в настройках скрипта.
2. Выберите устройства для запуска скрипта.
3. Нажмите `Скрипты` > `Публикация постов`.
4. Настройте параметры задачи:
    - **Источник материалов**: Выберите между Библиотекой материалов или Локальной папкой.
    - **Путь к локальной папке**: Если используете локальную папку, укажите путь, содержащий ваши видео/изображения.
    - **Способ публикации**: Выберите способ публикации: системная отправка или кнопка добавления (`+`) или через поиск использования звука.
    - **Название звука**: При использовании способа публикации "через поиск использования звука", вы можете выбрать:
      - Ввести название звука для поиска (например: "original sound", "trending music")
      - Ввести прямую ссылку на звук TikTok (например: `https://www.tiktok.com/t/ZP8hvBwCb/`)
    - **Тип контента**: Выберите видео или изображения.
    - **Переключатель добавления звука**: Включить/отключить добавление звука.
    - **Время ожидания загрузки**: Установите задержку (5-60 секунд) после загрузки, чтобы серверы TikTok полностью обработали контент перед продолжением.
    - **Переключатель добавления ссылки на продукт**: Включить/отключить добавление ссылки на продукт.
    - **Заголовок**: Установите заголовок, включая упоминания (@TikMatrixPhoneFarm) и теги (#tag1 #tag2 #tag3). Один заголовок на строку. Для разделения заголовка и описания используйте `##` (например, заголовок##длинное описание).
    - **Тег материала**: Фильтрация материалов по тегу. Если не установлен, используются все материалы.
5. Нажмите `Запустить скрипт` для начала выполнения.

## Управление материалами

### Режимы использования звука

Когда **Способ публикации** установлен на "через поиск использования звука", скрипт поддерживает два различных режима добавления музыки:

#### 1. Режим поиска звука

Введите название звука для поиска музыки в TikTok:

- Примеры: `original sound`, `trending music`, `viral beat`
- Скрипт будет искать в музыкальной библиотеке TikTok и выберет первый подходящий результат
- Этот режим полезен, когда вы хотите использовать популярные или трендовые звуки

#### 2. Режим ссылки на звук

Введите прямую ссылку на звук TikTok для использования конкретной музыки:

- Поддерживаемые форматы ссылок:
  - Короткие ссылки: `https://www.tiktok.com/t/ZP8hvBwCb/`
  - Страницы музыки: `https://www.tiktok.com/music/original-sound-7473897776619834646`
  - VM ссылки: `https://vm.tiktok.com/ZMhvBwCbD/`
- Скрипт автоматически определяет ссылки, начинающиеся с `https://`, и открывает их напрямую
- Этот режим полезен, когда вы хотите использовать конкретный звук из определенного видео

### Библиотека материалов

- **Тег материала**: Добавляйте теги к материалам для фильтрации при публикации. Если теги не указаны, используются все материалы.
- **Заголовок материала**: Вы можете установить пользовательский заголовок для каждого материала. Если установлен, он имеет приоритет над настройками публикации.
- **Имя пользователя материала**: Вы можете установить пользовательское имя пользователя для каждого материала. Материалы с совпадающими именами пользователей используются в приоритете.
- **Сортировка материала**: Установите номер сортировки для материалов (полезно для постов с несколькими изображениями; меньшие числа идут первыми).

### Источник локальной папки

- **Структура папок**:

  ```text
  /путь/к/материалам/
  ├── caption.txt (опционально - корневая папка для резерва)
  ├── sound_names.txt (опционально - корневая папка для резерва)  
  ├── sound_urls.txt (опционально - корневая папка для резерва)
  ├── @имя_пользователя1/
  │   ├── video1.mp4
  │   ├── video2.mp4
  │   ├── image1.jpg
  │   ├── image2.png
  │   ├── caption.txt (опционально)
  │   ├── sound_names.txt (опционально)
  │   └── sound_urls.txt (опционально)
  ├── @имя_пользователя2/
  │   ├── content1.mp4
  │   ├── content2.jpg
  │   ├── caption.txt (опционально)
  │   ├── sound_names.txt (опционально)
  │   └── sound_urls.txt (опционально)
  └── ...
  ```

- **Путь к папке**: Укажите корневой путь, содержащий подпапки с именами пользователей.
- **Подпапки пользователей**: Каждое имя пользователя должно иметь свою подпапку (например, `@имя_пользователя1`, `@имя_пользователя2`).
- **Резервная корневая папка**: Если папка пользователя не существует или имя пользователя пустое, материалы и настройки будут читаться из корневой папки.
- **Поддерживаемые форматы**:
  - Видео: MP4, AVI, MOV, MKV, WebM, M4V
  - Изображения: JPG, JPEG, PNG, GIF, BMP, WebP
- **Файл заголовков**: Опциональный файл `caption.txt` в каждой папке пользователя для пользовательских заголовков. Если не найден, используется файл из корневой папки.
- **Музыкальные файлы**:
  - **sound_names.txt**: Содержит названия звуков для поиска, по одному на строку. Читается последовательно и зацикливается при достижении конца.
  - **sound_urls.txt**: Содержит ссылки на звуки TikTok, по одной на строку. Читается последовательно и зацикливается при достижении конца.
  - Если папка пользователя не существует, читается из музыкальных файлов корневой папки.
- **Выбор файлов**:
  - Для видео: Одно случайное видео на пост
  - Для изображений: Несколько изображений в зависимости от настройки количества изображений
- **Отслеживание использования**: Файлы автоматически помечаются как использованные во избежание повторений.
- **Поддержка Spintax**: Файлы заголовков поддерживают формат spintax `{вариант1|вариант2|вариант3}` для генерации случайного текста.

  **Примеры Spintax:**

  ```text
  {Доброе утро|Привет|Здравствуйте}! Посмотрите это {удивительное|невероятное|потрясающее} видео!
  ```

  Случайно сгенерирует один из вариантов:
  - "Доброе утро! Посмотрите это удивительное видео!"
  - "Привет! Посмотрите это невероятное видео!"
  - "Здравствуйте! Посмотрите это потрясающее видео!"

  **Сложный пример Spintax:**

  ```text
  {🔥|✨|🎉} {Не пропустите|Посмотрите|Смотрите} это {удивительное|невероятное|фантастическое} {видео|контент|пост}! 
  {Подписывайтесь на больше|Лайк и репост|Отметьте друзей} {#тренд|#вирус|#fyp} #tiktok
  ```

  **Пример файла Caption.txt:**

  ```text
  {Утренняя мотивация|Ежедневное вдохновение|Начните свой день правильно}! 💪
  
  {Люблю|Наслаждаюсь|Обожаю} этот {красивый|потрясающий|великолепный} вид! 🌅
  
  {Не могу поверить|Так взволнован|В восторге от} этого {момента|опыта|приключения}! ✨
  ```

  **Пример файла Sound_names.txt:**

  ```text
  original sound
  trending music
  viral beat
  popular song
  dance music
  ```

  **Пример файла Sound_urls.txt:**

  ```text
  https://www.tiktok.com/t/ZP8hvBwCb/
  https://www.tiktok.com/music/original-sound-7473897776619834646
  https://vm.tiktok.com/ZMhvBwCbD/
  https://www.tiktok.com/t/ZP8hvBwCb/
  ```

## Примечания

- Скрипт публикации может не всегда быть успешным; при необходимости повторите неудачные задачи.
- Поддерживается планирование по времени для запуска задач публикации в указанное время.
- Если в библиотеке материалов недостаточно материалов, задача завершится неудачно.
- При использовании локальной папки в качестве источника:
  - Каждое имя пользователя должно иметь свою подпапку под корневым путем материалов, или использовать корневую папку напрямую, если имя пользователя пустое.
  - Если папка пользователя не существует, скрипт будет использовать резервное чтение материалов и настроек из корневой папки.
  - Скрипт будет случайно выбирать файлы, чтобы избежать повторной публикации одного и того же контента.
  - Файлы автоматически отслеживаются как использованные; когда все файлы использованы, произойдет ошибка.
  - Создайте файл `caption.txt` в каждой папке пользователя или корневой папке для пользовательских заголовков.
  - Создайте `sound_names.txt` для последовательного чтения названий звуков (автоматическое зацикливание).
  - Создайте `sound_urls.txt` для последовательного чтения ссылок на звуки (автоматическое зацикливание).
  - Файлы заголовков поддерживают формат spintax для случайных текстовых вариаций.
  - Поддерживаемые форматы видео: MP4, AVI, MOV, MKV, WebM, M4V.
  - Поддерживаемые форматы изображений: JPG, JPEG, PNG, GIF, BMP, WebP.

## Скриншоты

![Публикация постов](../img/post.png)
![Библиотека материалов](../img/material.png)

## Связанная документация

- [Permission Denied - Unable to Save Draft Videos](../troubleshooting/4.permission-denied-draft-videos.md)
