---
sidebar_position: 9
---

# Управление аккаунтами

Модуль управления аккаунтами синхронизирует каждую запись TikTok или Instagram с устройством, на котором она запускается, с её учётными данными и с данными, нужными для автоматизации. Упорядоченный список аккаунтов избавляет от ручных действий на каждом телефоне и облегчает распределение устройств, мониторинг состояния и подготовку кампаний.

## Ручное создание аккаунта

1. Откройте пункт **Accounts** в левой панели.
2. Нажмите **Add**, чтобы открыть окно редактирования.
3. Заполните базовые поля:
   - **Email**: адрес, используемый в приложении. TikMatrix/IgMatrix сначала пытается авторизоваться по паре email + password; если поле email пустое, автоматически применяется схема username + password.
   - **Password**: пароль для входа. IgMatrix поддерживает пароль, дополненный секретом 2FA (см. ниже).
   - **Username** — отображаемый никнейм TikTok/Instagram. Это единственное обязательное поле.
   - Переключатель **Login Status**: `1` — сессия уже авторизована на устройстве, `0` — вход не выполнен.
   - Переключатель **Status**: `0` — аккаунт активен, `1` — отключён.
4. Выберите бейдж устройства, чтобы привязать аккаунт к телефону или CloudPhone. Если устройство не выбрано, аккаунт останется неприкреплённым.
5. Нажмите **Save**. Список обновится автоматически.

## Авторизация

- Если заполнены поля **Email** и **Password**, TikMatrix/IgMatrix выполнит вход на указанном устройстве именно с этой парой.
- Если **Email** пуст, используется комбинация **Username** + **Password**.
- Обязательно выберите индекс устройства, чтобы скрипт понимал, где запускать вход.
- Скрипт авторизации проверяет текущее состояние и пропускает аккаунты, которые уже вошли в систему.

## Поддержка 2FA (только IgMatrix)

IgMatrix может автоматически проходить двухфакторную аутентификацию во время входа.

### Формат пароля с 2FA

Чтобы включить 2FA, задайте пароль в следующем формате:

```text
ваш_пароль:ваш_2FA_секрет
```

**Пример:**

```text
mypassword123:JBSWY3DPEHPK3PXP
```

## Импорт и экспорт аккаунтов

- **Export** сохраняет все аккаунты в файл `accounts.xlsx` в папке загрузок TikMatrix/IgMatrix. Используйте его как резервную копию и шаблон для массового редактирования.
- **Import** позволяет массово создавать или обновлять записи из Excel. Если вы не уверены в структуре файла, сперва выполните **Export**, отредактируйте выгруженный файл и импортируйте его обратно.
- При импорте строки с заполненным полем `id` обновляют существующие записи. Строки без `id` создают новые аккаунты.

> Для 2FA в IgMatrix заполните `username`, `pwd` (в формате `пароль:2fa_секрет`) и столбец `device_index`.

### Справочник по столбцам Excel

| Столбец | Обязателен | Описание |
| --- | --- | --- |
| `id` | Нет | Внутренний идентификатор. Оставляйте его, только если нужно обновить существующую запись. |
| `email` | Нет | Почта для входа в приложение; полезна для связи и восстановления. |
| `pwd` | Нет | Пароль для быстрой справки или автоматической авторизации. |
| `username` | Да | Никнейм TikTok/Instagram. Должен быть уникальным в рабочем пространстве. |
| `device` | Нет | Серийный номер устройства или идентификатор CloudPhone, к которому привязан аккаунт. |
| `device_index` | Нет | Дружелюбная метка устройства, отображаемая в интерфейсе; служит для удобства. |
| `logined` | Нет | Флаг сессии (`1` — авторизован, `0` — не авторизован). |
| `status` | Нет | Флаг доступности (`0` — включён, `1` — отключён). Отключённые аккаунты не участвуют в скриптах. |
| `nickname` | Нет | Последний никнейм, полученный после синхронизации данных TikTok. |
| `country` | Нет | Страна/регион, определённые по профилю TikTok. |
| `followers` | Нет | Количество подписчиков из синхронизации TikTok. |
| `following` | Нет | Сколько профилей отслеживает аккаунт. |
| `hearts` | Нет | Общее число лайков (hearts). |
| `videos` | Нет | Количество опубликованных видео. |
| `friends` | Нет | Число взаимных друзей, если TikTok предоставляет эти данные. |

### Поля TikMatrix и IgMatrix

- **TikMatrix** заполняет статистические поля (`nickname`, `country`, `followers`, `following`, `hearts`, `videos`, `friends`) после запуска функции **Sync TikTok Data** или нажатия кнопки запроса данных.
- **IgMatrix** использует только базовые столбцы (`email`, `pwd`, `username`, `device`, `logined`, `status`) и игнорирует аналитические значения.

## Дополнительные особенности

- Аккаунты со статусом **Disabled** исключаются из всех автоматизированных скриптов, расписаний и пакетных действий. Перед запуском задач переведите их в состояние Enabled.
- Скрипт **Match Accounts** сканирует устройства, находит уже авторизованные в приложении профили, автоматически создаёт записи в списке аккаунтов и связывает их с обнаруженным устройством. Это самый быстрый способ подключить телефоны, подготовленные вручную.
